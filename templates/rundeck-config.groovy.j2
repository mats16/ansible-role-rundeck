// loglevel.default is the default log level for jobs: ERROR,WARN,INFO,VERBOSE,DEBUG
loglevel.default = "INFO"
rdeck.base = "/var/lib/rundeck"

// rss.enabled if set to true enables RSS feeds that are public (non-authenticated)
rss.enabled = false
// change hostname here
grails.serverURL = "{{ framework_server_url }}"
dataSource.dbCreate = "{{ dataSource_dbCreate }}"
dataSource.url = "jdbc:mysql://{{ rd_mysql_host }}/{{ rd_mysql_database }}?autoReconnect=true"
dataSource.username = "{{ rd_mysql_user }}"
dataSource.password = "{{ rd_mysql_password }}"

// E-mail
grails.mail.host = "{{ rd_email_host }}"
grails.mail.port = {{ rd_email_port }}
grails.mail.default.from = "{{ rd_email_from }}"

grails.mail.props = ["mail.smtp.auth":"true"]
grails.mail.username = "{{ rd_email_user }}"
grails.mail.password = "{{ rd_email_password }}"
grails.mail.props += ["mail.smtp.starttls.enable":"true", "mail.smtp.port": {{ rd_email_port }}]

// Enables DB for Project configuration storage
rundeck.projectsStorageType = "db"

// Encryption for project config storage
rundeck.config.storage.converter."1".type = "jasypt-encryption"
rundeck.config.storage.converter."1".path = "projects"
rundeck.config.storage.converter."1".config.password = "{{jasypt_encryption_secret}}"

// Enable DB for Key Storage
rundeck.storage.provider."1".type = "db"
rundeck.storage.provider."1".path = "keys"

// Encryption for Key Storage
rundeck.storage.converter."1".type = "jasypt-encryption"
rundeck.storage.converter."1".path = "keys"
rundeck.storage.converter."1".config.password = "{{jasypt_encryption_secret}}"

rundeck.clusterMode.enabled = "{{ rundeck_clusterMode_enabled }}"

rundeck.execution.logs.fileStoragePlugin = "org.rundeck.amazon-s3"
